{"ast":null,"code":"var _jsxFileName = \"C:\\\\Cursor\\\\mindmap\\\\src\\\\components\\\\MindMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { Box, IconButton, Tooltip, Paper, Typography, Snackbar, Alert } from '@mui/material';\nimport ZoomInIcon from '@mui/icons-material/ZoomIn';\nimport ZoomOutIcon from '@mui/icons-material/ZoomOut';\nimport RestartAltIcon from '@mui/icons-material/RestartAlt';\nimport FolderIcon from '@mui/icons-material/Folder';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport CloudDownloadIcon from '@mui/icons-material/CloudDownload';\nimport { getFileDetails } from '../services/googleDriveService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MindMap = ({\n  data,\n  enableDownload = false\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [tooltipContent, setTooltipContent] = useState('');\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [tooltip, setTooltip] = useState({\n    visible: false,\n    x: 0,\n    y: 0,\n    content: ''\n  });\n  const [notification, setNotification] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  // ÎîîÏßÄÌÑ∏ÏÑ†ÎèÑÌïôÍµê Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ Í≤ΩÎ°ú\n  const digitalSchoolLogoPath = '/images/digital_school_logo.png';\n  useEffect(() => {\n    if (!data) return;\n    createMindMap();\n\n    // Cleanup on component unmount\n    return () => {\n      d3.select(svgRef.current).selectAll('*').remove();\n    };\n  }, [data]);\n  const createMindMap = () => {\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    const g = svg.append('g').attr('transform', `translate(${width / 2},${height / 2})`);\n\n    // Define zoom behavior\n    const zoom = d3.zoom().scaleExtent([0.1, 4]).on('zoom', event => {\n      g.attr('transform', event.transform);\n    });\n    svg.call(zoom);\n\n    // Center the view initially\n    svg.call(zoom.transform, d3.zoomIdentity.translate(width / 2, height / 2).scale(0.8));\n\n    // Create radial layout\n    const radius = Math.min(width, height) / 2 - 120;\n\n    // Create hierarchy from data\n    const root = d3.hierarchy(data);\n\n    // Define custom layout (similar to radial but with modifications)\n    const layout = d3.cluster().size([360, radius]);\n\n    // Apply layout\n    layout(root);\n\n    // Add links\n    const linkGenerator = d3.linkRadial().angle(d => d.x * Math.PI / 180).radius(d => d.y);\n    g.selectAll('.link').data(root.links()).join('path').attr('class', 'link').attr('d', linkGenerator).attr('fill', 'none').attr('stroke', '#ccc').attr('stroke-width', 1.5);\n\n    // Add nodes\n    const nodes = g.selectAll('.node').data(root.descendants()).join('g').attr('class', 'node').attr('transform', d => `rotate(${d.x - 90}) translate(${d.y})`).attr('cursor', 'pointer').on('click', (event, d) => handleNodeClick(event, d)).on('mouseover', (event, d) => handleMouseOver(event, d)).on('mouseout', () => handleMouseOut());\n\n    // Add node circles\n    nodes.append('circle').attr('r', d => d.depth === 0 ? 25 : d.data.type === 'folder' ? 15 : 8).attr('class', d => {\n      if (d.depth === 0) return 'central-node';\n      return d.data.type === 'folder' ? 'folder-node' : 'file-node';\n    }).attr('fill', d => {\n      if (d.depth === 0) return '#8B4513';\n      return d.data.type === 'folder' ? '#FFD700' : '#fff';\n    }).attr('stroke', d => {\n      if (d.depth === 0) return '#8B4513';\n      return d.data.type === 'folder' ? '#DAA520' : '#2E8B57';\n    }).attr('stroke-width', 1.5);\n\n    // ÎîîÏßÄÌÑ∏ÏÑ†ÎèÑÌïôÍµê Î°úÍ≥†Î•º Ï§ëÏïô ÎÖ∏ÎìúÏôÄ Ìè¥Îçî ÎÖ∏ÎìúÏóê Ï∂îÍ∞Ä\n    nodes.filter(d => d.depth === 0).each(function (d) {\n      const node = d3.select(this);\n\n      // ÎîîÏßÄÌÑ∏ÏÑ†ÎèÑÌïôÍµê Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ Ï∂îÍ∞Ä\n      node.append('image').attr('xlink:href', digitalSchoolLogoPath).attr('width', 30).attr('height', 30).attr('x', -15).attr('y', -15).attr('transform', d => `rotate(${90 - d.x})`).style('pointer-events', 'none');\n    });\n\n    // Ìè¥Îçî ÎÖ∏ÎìúÏóê ÏïÑÏù¥ÏΩò Ï∂îÍ∞Ä (Ï§ëÏïô ÎÖ∏Îìú Ï†úÏô∏)\n    nodes.filter(d => d.data.type === 'folder' && d.depth !== 0).append('text').attr('dy', 5).attr('text-anchor', 'middle').attr('transform', d => `rotate(${90 - d.x})`).html('üìÅ');\n\n    // ÌååÏùº ÎÖ∏ÎìúÏóê ÏïÑÏù¥ÏΩò Ï∂îÍ∞Ä\n    nodes.filter(d => d.data.type === 'file').append('text').attr('dy', 4).attr('text-anchor', 'middle').attr('transform', d => `rotate(${90 - d.x})`).html('üìÑ');\n\n    // Add labels\n    nodes.append('text').attr('dy', d => d.depth === 0 ? -35 : d.data.type === 'folder' ? -20 : -15).attr('text-anchor', 'middle').attr('transform', d => `rotate(${90 - d.x})`).text(d => truncateText(d.data.name, 20)).attr('fill', '#333').attr('font-size', d => d.depth === 0 ? '16px' : '12px').attr('font-weight', d => d.depth === 0 ? 'bold' : 'normal');\n  };\n  const handleNodeClick = async (event, d) => {\n    event.stopPropagation();\n    setSelectedNode(d);\n\n    // ÌååÏùº ÎÖ∏ÎìúÏù∏ Í≤ΩÏö∞\n    if (d.data.type === 'file') {\n      try {\n        const details = await getFileDetails(d.data.id);\n        if (enableDownload) {\n          // Îã§Ïö¥Î°úÎìú Ï≤òÎ¶¨\n          downloadFile(details);\n        } else {\n          // Í∏∞Ï°¥ Î∞©Ïãù: ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÌëúÏãú\n          showFileDetails(event, details);\n        }\n      } catch (error) {\n        console.error('ÌååÏùº Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Ï§ë Ïò§Î•ò Î∞úÏÉù:', error);\n        setNotification({\n          open: true,\n          message: 'ÌååÏùº Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n          severity: 'error'\n        });\n      }\n    }\n  };\n  const downloadFile = fileDetails => {\n    if (!fileDetails.webContentLink && !fileDetails.webViewLink) {\n      // Íµ¨Í∏Ä Î¨∏ÏÑú ÌòïÏãùÏù∏ Í≤ΩÏö∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ URL ÏÉùÏÑ±\n      if (fileDetails.mimeType.includes('google-apps')) {\n        let exportMimeType = '';\n        let exportExt = '';\n\n        // Í∞Å Íµ¨Í∏Ä Î¨∏ÏÑú ÌÉÄÏûÖÏóê ÎßûÎäî ÎÇ¥Î≥¥ÎÇ¥Í∏∞ ÌòïÏãù ÏßÄÏ†ï\n        if (fileDetails.mimeType.includes('document')) {\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n          exportExt = 'docx';\n        } else if (fileDetails.mimeType.includes('spreadsheet')) {\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n          exportExt = 'xlsx';\n        } else if (fileDetails.mimeType.includes('presentation')) {\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\n          exportExt = 'pptx';\n        } else if (fileDetails.mimeType.includes('drawing')) {\n          exportMimeType = 'image/png';\n          exportExt = 'png';\n        } else {\n          exportMimeType = 'application/pdf';\n          exportExt = 'pdf';\n        }\n\n        // ÎÇ¥Î≥¥ÎÇ¥Í∏∞ URL\n        const exportUrl = `https://www.googleapis.com/drive/v3/files/${fileDetails.id}/export?mimeType=${encodeURIComponent(exportMimeType)}`;\n\n        // Ïï°ÏÑ∏Ïä§ ÌÜ†ÌÅ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n        const token = window.gapi.client.getToken();\n        if (token) {\n          // Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ ÏÉùÏÑ± Î∞è ÌÅ¥Î¶≠\n          const downloadLink = document.createElement('a');\n          downloadLink.href = exportUrl + '&alt=media&access_token=' + token.access_token;\n          downloadLink.download = `${fileDetails.name}.${exportExt}`;\n          downloadLink.target = '_blank';\n          document.body.appendChild(downloadLink);\n          downloadLink.click();\n          document.body.removeChild(downloadLink);\n          setNotification({\n            open: true,\n            message: `\"${fileDetails.name}\" Îã§Ïö¥Î°úÎìú Ï§ë...`,\n            severity: 'info'\n          });\n        } else {\n          setNotification({\n            open: true,\n            message: 'Ïù∏Ï¶ù ÌÜ†ÌÅ∞Ïù¥ ÏóÜÏñ¥ Îã§Ïö¥Î°úÎìúÌï† Ïàò ÏóÜÏäµÎãàÎã§.',\n            severity: 'error'\n          });\n        }\n      } else {\n        setNotification({\n          open: true,\n          message: 'Ïù¥ ÌååÏùºÏùÄ Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨Í∞Ä Ï†úÍ≥µÎêòÏßÄ ÏïäÏäµÎãàÎã§.',\n          severity: 'warning'\n        });\n        // ÎåÄÏã† ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÌëúÏãú\n        showFileDetails(null, fileDetails);\n      }\n    } else {\n      // ÏßÅÏ†ë Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨Í∞Ä ÏûàÎäî Í≤ΩÏö∞\n      const downloadUrl = fileDetails.webContentLink || fileDetails.webViewLink;\n\n      // Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ ÌÅ¥Î¶≠\n      const downloadLink = document.createElement('a');\n      downloadLink.href = downloadUrl;\n      downloadLink.target = '_blank';\n      document.body.appendChild(downloadLink);\n      downloadLink.click();\n      document.body.removeChild(downloadLink);\n      setNotification({\n        open: true,\n        message: `\"${fileDetails.name}\" Îã§Ïö¥Î°úÎìú Ï§ë...`,\n        severity: 'info'\n      });\n    }\n  };\n  const showFileDetails = (event, details) => {\n    // ÌååÏùº ÌÅ¨Í∏∞ Ìè¨Îß∑\n    const size = details.size ? formatFileSize(details.size) : 'N/A';\n\n    // ÎÇ†Ïßú Ìè¨Îß∑\n    const modified = details.modifiedTime ? new Date(details.modifiedTime).toLocaleString() : 'N/A';\n    const created = details.createdTime ? new Date(details.createdTime).toLocaleString() : 'N/A';\n\n    // Ìà¥ÌåÅ ÏΩòÌÖêÏ∏† ÏÑ§Ï†ï\n    const content = `\n      <div>\n        <h3>${details.name}</h3>\n        <p><strong>Ïú†Ìòï:</strong> ${getMimeTypeDescription(details.mimeType)}</p>\n        <p><strong>ÌÅ¨Í∏∞:</strong> ${size}</p>\n        <p><strong>ÏàòÏ†ïÎê®:</strong> ${modified}</p>\n        <p><strong>ÏÉùÏÑ±Îê®:</strong> ${created}</p>\n        ${details.webViewLink ? `<p><a href=\"${details.webViewLink}\" target=\"_blank\" rel=\"noopener noreferrer\">ÌååÏùº Ïó¥Í∏∞</a></p>` : ''}\n      </div>\n    `;\n\n    // ÏúÑÏπò ÏÑ§Ï†ï\n    const x = event ? event.pageX : window.innerWidth / 2;\n    const y = event ? event.pageY : window.innerHeight / 2;\n\n    // Ìà¥ÌåÅ ÌëúÏãú\n    setTooltip({\n      visible: true,\n      x: x,\n      y: y,\n      content: content\n    });\n  };\n  const handleMouseOver = (event, d) => {\n    // Show a simple tooltip\n    const tooltip = d3.select(tooltipRef.current);\n    tooltip.style('display', 'block').style('left', event.pageX + 15 + 'px').style('top', event.pageY - 10 + 'px').html(`<div><strong>${d.data.name}</strong><br/>${getMimeTypeDescription(d.data.mimeType)}</div>`);\n  };\n  const handleMouseOut = () => {\n    d3.select(tooltipRef.current).style('display', 'none');\n  };\n  const resetZoom = () => {\n    const svg = d3.select(svgRef.current);\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    svg.transition().duration(750).call(d3.zoom().transform, d3.zoomIdentity.translate(width / 2, height / 2).scale(0.8));\n  };\n  const zoomIn = () => {\n    const svg = d3.select(svgRef.current);\n    svg.transition().duration(300).call(d3.zoom().scaleBy, 1.3);\n  };\n  const zoomOut = () => {\n    const svg = d3.select(svgRef.current);\n    svg.transition().duration(300).call(d3.zoom().scaleBy, 1 / 1.3);\n  };\n  const handleCloseTooltip = () => {\n    setTooltip({\n      ...tooltip,\n      visible: false\n    });\n  };\n  const handleCloseNotification = (event, reason) => {\n    if (reason === 'clickaway') return;\n    setNotification({\n      ...notification,\n      open: false\n    });\n  };\n  const truncateText = (text, maxLength) => {\n    if (!text) return '';\n    return text.length > maxLength ? text.slice(0, maxLength) + '...' : text;\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  const getMimeTypeDescription = mimeType => {\n    if (!mimeType) return 'Ïïå Ïàò ÏóÜÎäî Ïú†Ìòï';\n    if (mimeType.includes('folder')) return 'Ìè¥Îçî';\n    const mimeMap = {\n      'application/vnd.google-apps.document': 'Íµ¨Í∏Ä Î¨∏ÏÑú',\n      'application/vnd.google-apps.spreadsheet': 'Íµ¨Í∏Ä Ïä§ÌîÑÎ†àÎìúÏãúÌä∏',\n      'application/vnd.google-apps.presentation': 'Íµ¨Í∏Ä ÌîÑÎ†àÏ††ÌÖåÏù¥ÏÖò',\n      'application/vnd.google-apps.form': 'Íµ¨Í∏Ä ÏÑ§Î¨∏ÏßÄ',\n      'application/vnd.google-apps.drawing': 'Íµ¨Í∏Ä ÎìúÎ°úÏûâ',\n      'application/pdf': 'PDF Î¨∏ÏÑú',\n      'image/jpeg': 'JPEG Ïù¥ÎØ∏ÏßÄ',\n      'image/png': 'PNG Ïù¥ÎØ∏ÏßÄ',\n      'text/plain': 'ÌÖçÏä§Ìä∏ ÌååÏùº',\n      'text/html': 'HTML ÌååÏùº',\n      'application/zip': 'ZIP ÏïïÏ∂ïÌååÏùº',\n      'video/mp4': 'MP4 ÎπÑÎîîÏò§',\n      'audio/mpeg': 'MP3 Ïò§ÎîîÏò§'\n    };\n    return mimeMap[mimeType] || mimeType;\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      height: '100%',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      width: \"100%\",\n      height: \"100%\",\n      style: {\n        background: 'transparent'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tooltipRef,\n      className: \"tooltip\",\n      style: {\n        display: 'none',\n        position: 'absolute',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        color: 'white',\n        padding: '5px 10px',\n        borderRadius: '5px',\n        fontSize: '12px',\n        pointerEvents: 'none',\n        zIndex: 100\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), tooltip.visible && /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        position: 'absolute',\n        left: tooltip.x + 15,\n        top: tooltip.y - 10,\n        p: 2,\n        maxWidth: 300,\n        zIndex: 1000,\n        backgroundColor: 'rgba(255, 255, 255, 0.95)',\n        borderRadius: '8px',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.15)'\n      },\n      onClick: handleCloseTooltip,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: tooltip.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          display: 'block',\n          textAlign: 'right',\n          mt: 1\n        },\n        children: \"\\uD074\\uB9AD\\uD558\\uC5EC \\uB2EB\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: notification.open,\n      autoHideDuration: 3000,\n      onClose: handleCloseNotification,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseNotification,\n        severity: notification.severity,\n        sx: {\n          width: '100%'\n        },\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: \"zoom-controls\",\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\uD655\\uB300\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: zoomIn,\n          className: \"zoom-button\",\n          size: \"large\",\n          children: /*#__PURE__*/_jsxDEV(ZoomInIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\uCD95\\uC18C\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: zoomOut,\n          className: \"zoom-button\",\n          size: \"large\",\n          children: /*#__PURE__*/_jsxDEV(ZoomOutIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\uAE30\\uBCF8 \\uBCF4\\uAE30\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: resetZoom,\n          className: \"zoom-button\",\n          size: \"large\",\n          children: /*#__PURE__*/_jsxDEV(RestartAltIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 5\n  }, this);\n};\n_s(MindMap, \"auS7sNNLkNe/TZvsP7vcItLsV+8=\");\n_c = MindMap;\nexport default MindMap;\nvar _c;\n$RefreshReg$(_c, \"MindMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","Box","IconButton","Tooltip","Paper","Typography","Snackbar","Alert","ZoomInIcon","ZoomOutIcon","RestartAltIcon","FolderIcon","InsertDriveFileIcon","CloudDownloadIcon","getFileDetails","jsxDEV","_jsxDEV","MindMap","data","enableDownload","_s","svgRef","tooltipRef","selectedNode","setSelectedNode","tooltipContent","setTooltipContent","tooltipPosition","setTooltipPosition","x","y","tooltip","setTooltip","visible","content","notification","setNotification","open","message","severity","digitalSchoolLogoPath","createMindMap","select","current","selectAll","remove","svg","width","window","innerWidth","height","innerHeight","g","append","attr","zoom","scaleExtent","on","event","transform","call","zoomIdentity","translate","scale","radius","Math","min","root","hierarchy","layout","cluster","size","linkGenerator","linkRadial","angle","d","PI","links","join","nodes","descendants","handleNodeClick","handleMouseOver","handleMouseOut","depth","type","filter","each","node","style","html","text","truncateText","name","stopPropagation","details","id","downloadFile","showFileDetails","error","console","fileDetails","webContentLink","webViewLink","mimeType","includes","exportMimeType","exportExt","exportUrl","encodeURIComponent","token","gapi","client","getToken","downloadLink","document","createElement","href","access_token","download","target","body","appendChild","click","removeChild","downloadUrl","formatFileSize","modified","modifiedTime","Date","toLocaleString","created","createdTime","getMimeTypeDescription","pageX","pageY","resetZoom","transition","duration","zoomIn","scaleBy","zoomOut","handleCloseTooltip","handleCloseNotification","reason","maxLength","length","slice","bytes","k","sizes","i","floor","log","parseFloat","pow","toFixed","mimeMap","sx","position","children","ref","background","fileName","_jsxFileName","lineNumber","columnNumber","className","display","backgroundColor","color","padding","borderRadius","fontSize","pointerEvents","zIndex","elevation","left","top","p","maxWidth","boxShadow","onClick","dangerouslySetInnerHTML","__html","variant","textAlign","mt","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","title","_c","$RefreshReg$"],"sources":["C:/Cursor/mindmap/src/components/MindMap.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { Box, IconButton, Tooltip, Paper, Typography, Snackbar, Alert } from '@mui/material';\r\nimport ZoomInIcon from '@mui/icons-material/ZoomIn';\r\nimport ZoomOutIcon from '@mui/icons-material/ZoomOut';\r\nimport RestartAltIcon from '@mui/icons-material/RestartAlt';\r\nimport FolderIcon from '@mui/icons-material/Folder';\r\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\r\nimport CloudDownloadIcon from '@mui/icons-material/CloudDownload';\r\nimport { getFileDetails } from '../services/googleDriveService';\r\n\r\nconst MindMap = ({ data, enableDownload = false }) => {\r\n  const svgRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n  const [selectedNode, setSelectedNode] = useState(null);\r\n  const [tooltipContent, setTooltipContent] = useState('');\r\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\r\n  const [tooltip, setTooltip] = useState({ visible: false, x: 0, y: 0, content: '' });\r\n  const [notification, setNotification] = useState({ open: false, message: '', severity: 'info' });\r\n  // ÎîîÏßÄÌÑ∏ÏÑ†ÎèÑÌïôÍµê Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ Í≤ΩÎ°ú\r\n  const digitalSchoolLogoPath = '/images/digital_school_logo.png';\r\n\r\n  useEffect(() => {\r\n    if (!data) return;\r\n    \r\n    createMindMap();\r\n    \r\n    // Cleanup on component unmount\r\n    return () => {\r\n      d3.select(svgRef.current).selectAll('*').remove();\r\n    };\r\n  }, [data]);\r\n\r\n  const createMindMap = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    svg.selectAll('*').remove();\r\n    \r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    \r\n    const g = svg.append('g')\r\n      .attr('transform', `translate(${width/2},${height/2})`);\r\n    \r\n    // Define zoom behavior\r\n    const zoom = d3.zoom()\r\n      .scaleExtent([0.1, 4])\r\n      .on('zoom', (event) => {\r\n        g.attr('transform', event.transform);\r\n      });\r\n    \r\n    svg.call(zoom);\r\n    \r\n    // Center the view initially\r\n    svg.call(zoom.transform, d3.zoomIdentity.translate(width/2, height/2).scale(0.8));\r\n    \r\n    // Create radial layout\r\n    const radius = Math.min(width, height) / 2 - 120;\r\n    \r\n    // Create hierarchy from data\r\n    const root = d3.hierarchy(data);\r\n    \r\n    // Define custom layout (similar to radial but with modifications)\r\n    const layout = d3.cluster()\r\n      .size([360, radius]);\r\n    \r\n    // Apply layout\r\n    layout(root);\r\n    \r\n    // Add links\r\n    const linkGenerator = d3.linkRadial()\r\n      .angle(d => d.x * Math.PI / 180)\r\n      .radius(d => d.y);\r\n    \r\n    g.selectAll('.link')\r\n      .data(root.links())\r\n      .join('path')\r\n      .attr('class', 'link')\r\n      .attr('d', linkGenerator)\r\n      .attr('fill', 'none')\r\n      .attr('stroke', '#ccc')\r\n      .attr('stroke-width', 1.5);\r\n    \r\n    // Add nodes\r\n    const nodes = g.selectAll('.node')\r\n      .data(root.descendants())\r\n      .join('g')\r\n      .attr('class', 'node')\r\n      .attr('transform', d => `rotate(${d.x - 90}) translate(${d.y})`)\r\n      .attr('cursor', 'pointer')\r\n      .on('click', (event, d) => handleNodeClick(event, d))\r\n      .on('mouseover', (event, d) => handleMouseOver(event, d))\r\n      .on('mouseout', () => handleMouseOut());\r\n    \r\n    // Add node circles\r\n    nodes.append('circle')\r\n      .attr('r', d => d.depth === 0 ? 25 : d.data.type === 'folder' ? 15 : 8)\r\n      .attr('class', d => {\r\n        if (d.depth === 0) return 'central-node';\r\n        return d.data.type === 'folder' ? 'folder-node' : 'file-node';\r\n      })\r\n      .attr('fill', d => {\r\n        if (d.depth === 0) return '#8B4513';\r\n        return d.data.type === 'folder' ? '#FFD700' : '#fff';\r\n      })\r\n      .attr('stroke', d => {\r\n        if (d.depth === 0) return '#8B4513';\r\n        return d.data.type === 'folder' ? '#DAA520' : '#2E8B57';\r\n      })\r\n      .attr('stroke-width', 1.5);\r\n    \r\n    // ÎîîÏßÄÌÑ∏ÏÑ†ÎèÑÌïôÍµê Î°úÍ≥†Î•º Ï§ëÏïô ÎÖ∏ÎìúÏôÄ Ìè¥Îçî ÎÖ∏ÎìúÏóê Ï∂îÍ∞Ä\r\n    nodes.filter(d => d.depth === 0)\r\n      .each(function(d) {\r\n        const node = d3.select(this);\r\n        \r\n        // ÎîîÏßÄÌÑ∏ÏÑ†ÎèÑÌïôÍµê Î°úÍ≥† Ïù¥ÎØ∏ÏßÄ Ï∂îÍ∞Ä\r\n        node.append('image')\r\n          .attr('xlink:href', digitalSchoolLogoPath)\r\n          .attr('width', 30)\r\n          .attr('height', 30)\r\n          .attr('x', -15)\r\n          .attr('y', -15)\r\n          .attr('transform', d => `rotate(${90 - d.x})`)\r\n          .style('pointer-events', 'none');\r\n      });\r\n    \r\n    // Ìè¥Îçî ÎÖ∏ÎìúÏóê ÏïÑÏù¥ÏΩò Ï∂îÍ∞Ä (Ï§ëÏïô ÎÖ∏Îìú Ï†úÏô∏)\r\n    nodes.filter(d => d.data.type === 'folder' && d.depth !== 0)\r\n      .append('text')\r\n      .attr('dy', 5)\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', d => `rotate(${90 - d.x})`)\r\n      .html('üìÅ');\r\n    \r\n    // ÌååÏùº ÎÖ∏ÎìúÏóê ÏïÑÏù¥ÏΩò Ï∂îÍ∞Ä\r\n    nodes.filter(d => d.data.type === 'file')\r\n      .append('text')\r\n      .attr('dy', 4)\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', d => `rotate(${90 - d.x})`)\r\n      .html('üìÑ');\r\n    \r\n    // Add labels\r\n    nodes.append('text')\r\n      .attr('dy', d => d.depth === 0 ? -35 : d.data.type === 'folder' ? -20 : -15)\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', d => `rotate(${90 - d.x})`)\r\n      .text(d => truncateText(d.data.name, 20))\r\n      .attr('fill', '#333')\r\n      .attr('font-size', d => d.depth === 0 ? '16px' : '12px')\r\n      .attr('font-weight', d => d.depth === 0 ? 'bold' : 'normal');\r\n  };\r\n\r\n  const handleNodeClick = async (event, d) => {\r\n    event.stopPropagation();\r\n    \r\n    setSelectedNode(d);\r\n    \r\n    // ÌååÏùº ÎÖ∏ÎìúÏù∏ Í≤ΩÏö∞\r\n    if (d.data.type === 'file') {\r\n      try {\r\n        const details = await getFileDetails(d.data.id);\r\n        \r\n        if (enableDownload) {\r\n          // Îã§Ïö¥Î°úÎìú Ï≤òÎ¶¨\r\n          downloadFile(details);\r\n        } else {\r\n          // Í∏∞Ï°¥ Î∞©Ïãù: ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÌëúÏãú\r\n          showFileDetails(event, details);\r\n        }\r\n      } catch (error) {\r\n        console.error('ÌååÏùº Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Ï§ë Ïò§Î•ò Î∞úÏÉù:', error);\r\n        setNotification({\r\n          open: true,\r\n          message: 'ÌååÏùº Ï†ïÎ≥¥Î•º Í∞ÄÏ†∏Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\r\n          severity: 'error'\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const downloadFile = (fileDetails) => {\r\n    if (!fileDetails.webContentLink && !fileDetails.webViewLink) {\r\n      // Íµ¨Í∏Ä Î¨∏ÏÑú ÌòïÏãùÏù∏ Í≤ΩÏö∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ URL ÏÉùÏÑ±\r\n      if (fileDetails.mimeType.includes('google-apps')) {\r\n        let exportMimeType = '';\r\n        let exportExt = '';\r\n        \r\n        // Í∞Å Íµ¨Í∏Ä Î¨∏ÏÑú ÌÉÄÏûÖÏóê ÎßûÎäî ÎÇ¥Î≥¥ÎÇ¥Í∏∞ ÌòïÏãù ÏßÄÏ†ï\r\n        if (fileDetails.mimeType.includes('document')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n          exportExt = 'docx';\r\n        } else if (fileDetails.mimeType.includes('spreadsheet')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\r\n          exportExt = 'xlsx';\r\n        } else if (fileDetails.mimeType.includes('presentation')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\r\n          exportExt = 'pptx';\r\n        } else if (fileDetails.mimeType.includes('drawing')) {\r\n          exportMimeType = 'image/png';\r\n          exportExt = 'png';\r\n        } else {\r\n          exportMimeType = 'application/pdf';\r\n          exportExt = 'pdf';\r\n        }\r\n        \r\n        // ÎÇ¥Î≥¥ÎÇ¥Í∏∞ URL\r\n        const exportUrl = `https://www.googleapis.com/drive/v3/files/${fileDetails.id}/export?mimeType=${encodeURIComponent(exportMimeType)}`;\r\n        \r\n        // Ïï°ÏÑ∏Ïä§ ÌÜ†ÌÅ∞ Í∞ÄÏ†∏Ïò§Í∏∞\r\n        const token = window.gapi.client.getToken();\r\n        if (token) {\r\n          // Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ ÏÉùÏÑ± Î∞è ÌÅ¥Î¶≠\r\n          const downloadLink = document.createElement('a');\r\n          downloadLink.href = exportUrl + '&alt=media&access_token=' + token.access_token;\r\n          downloadLink.download = `${fileDetails.name}.${exportExt}`;\r\n          downloadLink.target = '_blank';\r\n          document.body.appendChild(downloadLink);\r\n          downloadLink.click();\r\n          document.body.removeChild(downloadLink);\r\n          \r\n          setNotification({\r\n            open: true,\r\n            message: `\"${fileDetails.name}\" Îã§Ïö¥Î°úÎìú Ï§ë...`,\r\n            severity: 'info'\r\n          });\r\n        } else {\r\n          setNotification({\r\n            open: true,\r\n            message: 'Ïù∏Ï¶ù ÌÜ†ÌÅ∞Ïù¥ ÏóÜÏñ¥ Îã§Ïö¥Î°úÎìúÌï† Ïàò ÏóÜÏäµÎãàÎã§.',\r\n            severity: 'error'\r\n          });\r\n        }\r\n      } else {\r\n        setNotification({\r\n          open: true,\r\n          message: 'Ïù¥ ÌååÏùºÏùÄ Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨Í∞Ä Ï†úÍ≥µÎêòÏßÄ ÏïäÏäµÎãàÎã§.',\r\n          severity: 'warning'\r\n        });\r\n        // ÎåÄÏã† ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÌëúÏãú\r\n        showFileDetails(null, fileDetails);\r\n      }\r\n    } else {\r\n      // ÏßÅÏ†ë Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨Í∞Ä ÏûàÎäî Í≤ΩÏö∞\r\n      const downloadUrl = fileDetails.webContentLink || fileDetails.webViewLink;\r\n      \r\n      // Îã§Ïö¥Î°úÎìú ÎßÅÌÅ¨ ÌÅ¥Î¶≠\r\n      const downloadLink = document.createElement('a');\r\n      downloadLink.href = downloadUrl;\r\n      downloadLink.target = '_blank';\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n      \r\n      setNotification({\r\n        open: true,\r\n        message: `\"${fileDetails.name}\" Îã§Ïö¥Î°úÎìú Ï§ë...`,\r\n        severity: 'info'\r\n      });\r\n    }\r\n  };\r\n\r\n  const showFileDetails = (event, details) => {\r\n    // ÌååÏùº ÌÅ¨Í∏∞ Ìè¨Îß∑\r\n    const size = details.size ? formatFileSize(details.size) : 'N/A';\r\n    \r\n    // ÎÇ†Ïßú Ìè¨Îß∑\r\n    const modified = details.modifiedTime ? new Date(details.modifiedTime).toLocaleString() : 'N/A';\r\n    const created = details.createdTime ? new Date(details.createdTime).toLocaleString() : 'N/A';\r\n    \r\n    // Ìà¥ÌåÅ ÏΩòÌÖêÏ∏† ÏÑ§Ï†ï\r\n    const content = `\r\n      <div>\r\n        <h3>${details.name}</h3>\r\n        <p><strong>Ïú†Ìòï:</strong> ${getMimeTypeDescription(details.mimeType)}</p>\r\n        <p><strong>ÌÅ¨Í∏∞:</strong> ${size}</p>\r\n        <p><strong>ÏàòÏ†ïÎê®:</strong> ${modified}</p>\r\n        <p><strong>ÏÉùÏÑ±Îê®:</strong> ${created}</p>\r\n        ${details.webViewLink ? `<p><a href=\"${details.webViewLink}\" target=\"_blank\" rel=\"noopener noreferrer\">ÌååÏùº Ïó¥Í∏∞</a></p>` : ''}\r\n      </div>\r\n    `;\r\n    \r\n    // ÏúÑÏπò ÏÑ§Ï†ï\r\n    const x = event ? event.pageX : window.innerWidth / 2;\r\n    const y = event ? event.pageY : window.innerHeight / 2;\r\n    \r\n    // Ìà¥ÌåÅ ÌëúÏãú\r\n    setTooltip({\r\n      visible: true,\r\n      x: x,\r\n      y: y,\r\n      content: content\r\n    });\r\n  };\r\n\r\n  const handleMouseOver = (event, d) => {\r\n    // Show a simple tooltip\r\n    const tooltip = d3.select(tooltipRef.current);\r\n    tooltip\r\n      .style('display', 'block')\r\n      .style('left', (event.pageX + 15) + 'px')\r\n      .style('top', (event.pageY - 10) + 'px')\r\n      .html(`<div><strong>${d.data.name}</strong><br/>${getMimeTypeDescription(d.data.mimeType)}</div>`);\r\n  };\r\n\r\n  const handleMouseOut = () => {\r\n    d3.select(tooltipRef.current)\r\n      .style('display', 'none');\r\n  };\r\n\r\n  const resetZoom = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    \r\n    svg.transition()\r\n      .duration(750)\r\n      .call(\r\n        d3.zoom().transform,\r\n        d3.zoomIdentity.translate(width/2, height/2).scale(0.8)\r\n      );\r\n  };\r\n\r\n  const zoomIn = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    svg.transition()\r\n      .duration(300)\r\n      .call(\r\n        d3.zoom().scaleBy,\r\n        1.3\r\n      );\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    svg.transition()\r\n      .duration(300)\r\n      .call(\r\n        d3.zoom().scaleBy,\r\n        1 / 1.3\r\n      );\r\n  };\r\n\r\n  const handleCloseTooltip = () => {\r\n    setTooltip({ ...tooltip, visible: false });\r\n  };\r\n\r\n  const handleCloseNotification = (event, reason) => {\r\n    if (reason === 'clickaway') return;\r\n    setNotification({ ...notification, open: false });\r\n  };\r\n\r\n  const truncateText = (text, maxLength) => {\r\n    if (!text) return '';\r\n    return text.length > maxLength ? text.slice(0, maxLength) + '...' : text;\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getMimeTypeDescription = (mimeType) => {\r\n    if (!mimeType) return 'Ïïå Ïàò ÏóÜÎäî Ïú†Ìòï';\r\n    \r\n    if (mimeType.includes('folder')) return 'Ìè¥Îçî';\r\n    \r\n    const mimeMap = {\r\n      'application/vnd.google-apps.document': 'Íµ¨Í∏Ä Î¨∏ÏÑú',\r\n      'application/vnd.google-apps.spreadsheet': 'Íµ¨Í∏Ä Ïä§ÌîÑÎ†àÎìúÏãúÌä∏',\r\n      'application/vnd.google-apps.presentation': 'Íµ¨Í∏Ä ÌîÑÎ†àÏ††ÌÖåÏù¥ÏÖò',\r\n      'application/vnd.google-apps.form': 'Íµ¨Í∏Ä ÏÑ§Î¨∏ÏßÄ',\r\n      'application/vnd.google-apps.drawing': 'Íµ¨Í∏Ä ÎìúÎ°úÏûâ',\r\n      'application/pdf': 'PDF Î¨∏ÏÑú',\r\n      'image/jpeg': 'JPEG Ïù¥ÎØ∏ÏßÄ',\r\n      'image/png': 'PNG Ïù¥ÎØ∏ÏßÄ',\r\n      'text/plain': 'ÌÖçÏä§Ìä∏ ÌååÏùº',\r\n      'text/html': 'HTML ÌååÏùº',\r\n      'application/zip': 'ZIP ÏïïÏ∂ïÌååÏùº',\r\n      'video/mp4': 'MP4 ÎπÑÎîîÏò§',\r\n      'audio/mpeg': 'MP3 Ïò§ÎîîÏò§'\r\n    };\r\n    \r\n    return mimeMap[mimeType] || mimeType;\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', height: '100%', position: 'relative' }}>\r\n      <svg ref={svgRef} width=\"100%\" height=\"100%\" style={{ background: 'transparent' }}></svg>\r\n      \r\n      <div \r\n        ref={tooltipRef} \r\n        className=\"tooltip\" \r\n        style={{ \r\n          display: 'none',\r\n          position: 'absolute',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n          color: 'white',\r\n          padding: '5px 10px',\r\n          borderRadius: '5px',\r\n          fontSize: '12px',\r\n          pointerEvents: 'none',\r\n          zIndex: 100\r\n        }}\r\n      ></div>\r\n      \r\n      {tooltip.visible && (\r\n        <Paper\r\n          elevation={3}\r\n          sx={{\r\n            position: 'absolute',\r\n            left: tooltip.x + 15,\r\n            top: tooltip.y - 10,\r\n            p: 2,\r\n            maxWidth: 300,\r\n            zIndex: 1000,\r\n            backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n            borderRadius: '8px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.15)'\r\n          }}\r\n          onClick={handleCloseTooltip}\r\n        >\r\n          <div dangerouslySetInnerHTML={{ __html: tooltip.content }} />\r\n          <Typography variant=\"caption\" sx={{ display: 'block', textAlign: 'right', mt: 1 }}>\r\n            ÌÅ¥Î¶≠ÌïòÏó¨ Îã´Í∏∞\r\n          </Typography>\r\n        </Paper>\r\n      )}\r\n      \r\n      <Snackbar\r\n        open={notification.open}\r\n        autoHideDuration={3000}\r\n        onClose={handleCloseNotification}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert onClose={handleCloseNotification} severity={notification.severity} sx={{ width: '100%' }}>\r\n          {notification.message}\r\n        </Alert>\r\n      </Snackbar>\r\n      \r\n      <Box className=\"zoom-controls\">\r\n        <Tooltip title=\"ÌôïÎåÄ\">\r\n          <IconButton onClick={zoomIn} className=\"zoom-button\" size=\"large\">\r\n            <ZoomInIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Ï∂ïÏÜå\">\r\n          <IconButton onClick={zoomOut} className=\"zoom-button\" size=\"large\">\r\n            <ZoomOutIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"Í∏∞Î≥∏ Î≥¥Í∏∞\">\r\n          <IconButton onClick={resetZoom} className=\"zoom-button\" size=\"large\">\r\n            <RestartAltIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MindMap; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}