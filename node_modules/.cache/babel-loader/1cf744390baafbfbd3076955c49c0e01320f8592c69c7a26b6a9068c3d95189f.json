{"ast":null,"code":"var _jsxFileName = \"C:\\\\Cursor\\\\mindmap\\\\src\\\\components\\\\MindMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { Box, IconButton, Tooltip, Paper, Typography, Snackbar, Alert } from '@mui/material';\nimport ZoomInIcon from '@mui/icons-material/ZoomIn';\nimport ZoomOutIcon from '@mui/icons-material/ZoomOut';\nimport RestartAltIcon from '@mui/icons-material/RestartAlt';\nimport FolderIcon from '@mui/icons-material/Folder';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport CloudDownloadIcon from '@mui/icons-material/CloudDownload';\nimport { getFileDetails } from '../services/googleDriveService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MindMap = ({\n  data,\n  enableDownload = false\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  const tooltipRef = useRef(null);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [tooltipContent, setTooltipContent] = useState('');\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [tooltip, setTooltip] = useState({\n    visible: false,\n    x: 0,\n    y: 0,\n    content: ''\n  });\n  const [notification, setNotification] = useState({\n    open: false,\n    message: '',\n    severity: 'info'\n  });\n  // 디지털선도학교 로고 이미지 경로\n  const digitalSchoolLogoPath = '/images/digital_school_logo.png';\n  // 현재 시점과 확대 정도를 저장하는 ref\n  const currentViewRef = useRef({\n    transform: null\n  });\n  useEffect(() => {\n    if (!data) return;\n    createMindMap();\n\n    // Cleanup on component unmount\n    return () => {\n      d3.select(svgRef.current).selectAll('*').remove();\n    };\n  }, [data]);\n  const createMindMap = () => {\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    const g = svg.append('g').attr('transform', `translate(${width / 2},${height / 2})`);\n\n    // Define zoom behavior\n    const zoom = d3.zoom().scaleExtent([0.1, 4]).on('zoom', event => {\n      g.attr('transform', event.transform);\n      // 현재 변환 정보 저장\n      currentViewRef.current.transform = event.transform;\n    });\n    svg.call(zoom);\n\n    // 저장된 변환 정보가 있으면 적용, 없으면 초기 상태로 설정\n    if (currentViewRef.current.transform) {\n      svg.call(zoom.transform, currentViewRef.current.transform);\n    } else {\n      svg.call(zoom.transform, d3.zoomIdentity.translate(width / 2, height / 2).scale(0.8));\n    }\n\n    // Create radial layout\n    const radius = Math.min(width, height) / 2 - 120;\n\n    // Create hierarchy from data\n    const root = d3.hierarchy(data);\n\n    // Define custom layout (similar to radial but with modifications)\n    const layout = d3.cluster().size([360, radius]);\n\n    // Apply layout\n    layout(root);\n\n    // Add links\n    const linkGenerator = d3.linkRadial().angle(d => d.x * Math.PI / 180).radius(d => d.y);\n    g.selectAll('.link').data(root.links()).join('path').attr('class', 'link').attr('d', linkGenerator).attr('fill', 'none').attr('stroke', '#ccc').attr('stroke-width', 1.5);\n\n    // Add nodes\n    const nodes = g.selectAll('.node').data(root.descendants()).join('g').attr('class', 'node').attr('transform', d => `rotate(${d.x - 90}) translate(${d.y})`).attr('cursor', 'pointer').on('click', (event, d) => handleNodeClick(event, d)).on('mouseover', (event, d) => handleMouseOver(event, d)).on('mouseout', () => handleMouseOut());\n\n    // Add node circles\n    nodes.append('circle').attr('r', d => d.depth === 0 ? 25 : d.data.type === 'folder' ? 15 : 8).attr('class', d => {\n      if (d.depth === 0) return 'central-node';\n      return d.data.type === 'folder' ? 'folder-node' : 'file-node';\n    }).attr('fill', d => {\n      if (d.depth === 0) return '#8B4513';\n      return d.data.type === 'folder' ? '#FFD700' : '#fff';\n    }).attr('stroke', d => {\n      if (d.depth === 0) return '#8B4513';\n      return d.data.type === 'folder' ? '#DAA520' : '#2E8B57';\n    }).attr('stroke-width', 1.5);\n\n    // 디지털선도학교 로고를 중앙 노드와 폴더 노드에 추가\n    nodes.filter(d => d.depth === 0).each(function (d) {\n      const node = d3.select(this);\n\n      // 디지털선도학교 로고 이미지 추가\n      node.append('image').attr('xlink:href', digitalSchoolLogoPath).attr('width', 30).attr('height', 30).attr('x', -15).attr('y', -15).attr('transform', d => `rotate(${90 - d.x})`).style('pointer-events', 'none');\n    });\n\n    // 폴더 노드에 아이콘 추가 (중앙 노드 제외)\n    nodes.filter(d => d.data.type === 'folder' && d.depth !== 0).append('text').attr('dy', 5).attr('text-anchor', 'middle').attr('transform', d => `rotate(${90 - d.x})`).html('📁');\n\n    // 파일 노드에 아이콘 추가\n    nodes.filter(d => d.data.type === 'file').append('text').attr('dy', 4).attr('text-anchor', 'middle').attr('transform', d => `rotate(${90 - d.x})`).html('📄');\n\n    // Add labels\n    nodes.append('text').attr('dy', d => d.depth === 0 ? -35 : d.data.type === 'folder' ? -20 : -15).attr('text-anchor', 'middle').attr('transform', d => `rotate(${90 - d.x})`).text(d => truncateText(d.data.name, 20)).attr('fill', '#333').attr('font-size', d => d.depth === 0 ? '16px' : '12px').attr('font-weight', d => d.depth === 0 ? 'bold' : 'normal');\n  };\n  const handleNodeClick = async (event, d) => {\n    event.stopPropagation();\n    setSelectedNode(d);\n\n    // 파일 노드인 경우\n    if (d.data.type === 'file') {\n      try {\n        const details = await getFileDetails(d.data.id);\n        if (enableDownload) {\n          // 다운로드 처리\n          downloadFile(details);\n        } else {\n          // 기존 방식: 상세 정보 표시\n          showFileDetails(event, details);\n        }\n      } catch (error) {\n        console.error('파일 정보를 가져오는 중 오류 발생:', error);\n        setNotification({\n          open: true,\n          message: '파일 정보를 가져오는 중 오류가 발생했습니다.',\n          severity: 'error'\n        });\n      }\n    }\n  };\n  const downloadFile = fileDetails => {\n    if (!fileDetails.webContentLink && !fileDetails.webViewLink) {\n      // 구글 문서 형식인 경우 내보내기 URL 생성\n      if (fileDetails.mimeType.includes('google-apps')) {\n        let exportMimeType = '';\n        let exportExt = '';\n\n        // 각 구글 문서 타입에 맞는 내보내기 형식 지정\n        if (fileDetails.mimeType.includes('document')) {\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\n          exportExt = 'docx';\n        } else if (fileDetails.mimeType.includes('spreadsheet')) {\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n          exportExt = 'xlsx';\n        } else if (fileDetails.mimeType.includes('presentation')) {\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\n          exportExt = 'pptx';\n        } else if (fileDetails.mimeType.includes('drawing')) {\n          exportMimeType = 'image/png';\n          exportExt = 'png';\n        } else {\n          exportMimeType = 'application/pdf';\n          exportExt = 'pdf';\n        }\n\n        // 내보내기 URL\n        const exportUrl = `https://www.googleapis.com/drive/v3/files/${fileDetails.id}/export?mimeType=${encodeURIComponent(exportMimeType)}`;\n\n        // 액세스 토큰 가져오기\n        const token = window.gapi.client.getToken();\n        if (token) {\n          // 다운로드 링크 생성 및 클릭\n          const downloadLink = document.createElement('a');\n          downloadLink.href = exportUrl + '&alt=media&access_token=' + token.access_token;\n          downloadLink.download = `${fileDetails.name}.${exportExt}`;\n          downloadLink.target = '_blank';\n          document.body.appendChild(downloadLink);\n          downloadLink.click();\n          document.body.removeChild(downloadLink);\n          setNotification({\n            open: true,\n            message: `\"${fileDetails.name}\" 다운로드 중...`,\n            severity: 'info'\n          });\n        } else {\n          setNotification({\n            open: true,\n            message: '인증 토큰이 없어 다운로드할 수 없습니다.',\n            severity: 'error'\n          });\n        }\n      } else {\n        setNotification({\n          open: true,\n          message: '이 파일은 다운로드 링크가 제공되지 않습니다.',\n          severity: 'warning'\n        });\n        // 대신 상세 정보 표시\n        showFileDetails(null, fileDetails);\n      }\n    } else {\n      // 직접 다운로드 링크가 있는 경우\n      const downloadUrl = fileDetails.webContentLink || fileDetails.webViewLink;\n\n      // 다운로드 링크 클릭\n      const downloadLink = document.createElement('a');\n      downloadLink.href = downloadUrl;\n      downloadLink.target = '_blank';\n      document.body.appendChild(downloadLink);\n      downloadLink.click();\n      document.body.removeChild(downloadLink);\n      setNotification({\n        open: true,\n        message: `\"${fileDetails.name}\" 다운로드 중...`,\n        severity: 'info'\n      });\n    }\n  };\n  const showFileDetails = (event, details) => {\n    // 파일 크기 포맷\n    const size = details.size ? formatFileSize(details.size) : 'N/A';\n\n    // 날짜 포맷\n    const modified = details.modifiedTime ? new Date(details.modifiedTime).toLocaleString() : 'N/A';\n    const created = details.createdTime ? new Date(details.createdTime).toLocaleString() : 'N/A';\n\n    // 툴팁 콘텐츠 설정\n    const content = `\n      <div>\n        <h3>${details.name}</h3>\n        <p><strong>유형:</strong> ${getMimeTypeDescription(details.mimeType)}</p>\n        <p><strong>크기:</strong> ${size}</p>\n        <p><strong>수정됨:</strong> ${modified}</p>\n        <p><strong>생성됨:</strong> ${created}</p>\n        ${details.webViewLink ? `<p><a href=\"${details.webViewLink}\" target=\"_blank\" rel=\"noopener noreferrer\">파일 열기</a></p>` : ''}\n      </div>\n    `;\n\n    // 위치 설정\n    const x = event ? event.pageX : window.innerWidth / 2;\n    const y = event ? event.pageY : window.innerHeight / 2;\n\n    // 툴팁 표시\n    setTooltip({\n      visible: true,\n      x: x,\n      y: y,\n      content: content\n    });\n  };\n  const handleMouseOver = (event, d) => {\n    // Show a simple tooltip\n    const tooltip = d3.select(tooltipRef.current);\n    tooltip.style('display', 'block').style('left', event.pageX + 15 + 'px').style('top', event.pageY - 10 + 'px').html(`<div><strong>${d.data.name}</strong><br/>${getMimeTypeDescription(d.data.mimeType)}</div>`);\n  };\n  const handleMouseOut = () => {\n    d3.select(tooltipRef.current).style('display', 'none');\n  };\n  const resetZoom = () => {\n    const svg = d3.select(svgRef.current);\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    svg.transition().duration(750).call(d3.zoom().transform, d3.zoomIdentity.translate(width / 2, height / 2).scale(0.8));\n  };\n  const zoomIn = () => {\n    const svg = d3.select(svgRef.current);\n    svg.transition().duration(300).call(d3.zoom().scaleBy, 1.3);\n  };\n  const zoomOut = () => {\n    const svg = d3.select(svgRef.current);\n    svg.transition().duration(300).call(d3.zoom().scaleBy, 1 / 1.3);\n  };\n  const handleCloseTooltip = () => {\n    setTooltip({\n      ...tooltip,\n      visible: false\n    });\n  };\n  const handleCloseNotification = (event, reason) => {\n    if (reason === 'clickaway') return;\n    setNotification({\n      ...notification,\n      open: false\n    });\n  };\n  const truncateText = (text, maxLength) => {\n    if (!text) return '';\n    return text.length > maxLength ? text.slice(0, maxLength) + '...' : text;\n  };\n  const formatFileSize = bytes => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n  const getMimeTypeDescription = mimeType => {\n    if (!mimeType) return '알 수 없는 유형';\n    if (mimeType.includes('folder')) return '폴더';\n    const mimeMap = {\n      'application/vnd.google-apps.document': '구글 문서',\n      'application/vnd.google-apps.spreadsheet': '구글 스프레드시트',\n      'application/vnd.google-apps.presentation': '구글 프레젠테이션',\n      'application/vnd.google-apps.form': '구글 설문지',\n      'application/vnd.google-apps.drawing': '구글 드로잉',\n      'application/pdf': 'PDF 문서',\n      'image/jpeg': 'JPEG 이미지',\n      'image/png': 'PNG 이미지',\n      'text/plain': '텍스트 파일',\n      'text/html': 'HTML 파일',\n      'application/zip': 'ZIP 압축파일',\n      'video/mp4': 'MP4 비디오',\n      'audio/mpeg': 'MP3 오디오'\n    };\n    return mimeMap[mimeType] || mimeType;\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      height: '100%',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      width: \"100%\",\n      height: \"100%\",\n      style: {\n        background: 'transparent'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: tooltipRef,\n      className: \"tooltip\",\n      style: {\n        display: 'none',\n        position: 'absolute',\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        color: 'white',\n        padding: '5px 10px',\n        borderRadius: '5px',\n        fontSize: '12px',\n        pointerEvents: 'none',\n        zIndex: 100\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), tooltip.visible && /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        position: 'absolute',\n        left: tooltip.x + 15,\n        top: tooltip.y - 10,\n        p: 2,\n        maxWidth: 300,\n        zIndex: 1000,\n        backgroundColor: 'rgba(255, 255, 255, 0.95)',\n        borderRadius: '8px',\n        boxShadow: '0 4px 20px rgba(0,0,0,0.15)'\n      },\n      onClick: handleCloseTooltip,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        dangerouslySetInnerHTML: {\n          __html: tooltip.content\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          display: 'block',\n          textAlign: 'right',\n          mt: 1\n        },\n        children: \"\\uD074\\uB9AD\\uD558\\uC5EC \\uB2EB\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: notification.open,\n      autoHideDuration: 3000,\n      onClose: handleCloseNotification,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleCloseNotification,\n        severity: notification.severity,\n        sx: {\n          width: '100%'\n        },\n        children: notification.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: \"zoom-controls\",\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\uD655\\uB300\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: zoomIn,\n          className: \"zoom-button\",\n          size: \"large\",\n          children: /*#__PURE__*/_jsxDEV(ZoomInIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\uCD95\\uC18C\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: zoomOut,\n          className: \"zoom-button\",\n          size: \"large\",\n          children: /*#__PURE__*/_jsxDEV(ZoomOutIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\uAE30\\uBCF8 \\uBCF4\\uAE30\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: resetZoom,\n          className: \"zoom-button\",\n          size: \"large\",\n          children: /*#__PURE__*/_jsxDEV(RestartAltIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 399,\n    columnNumber: 5\n  }, this);\n};\n_s(MindMap, \"KGNsP7f7ypK0NoDEjIuBiWOAF5I=\");\n_c = MindMap;\nexport default MindMap;\nvar _c;\n$RefreshReg$(_c, \"MindMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","Box","IconButton","Tooltip","Paper","Typography","Snackbar","Alert","ZoomInIcon","ZoomOutIcon","RestartAltIcon","FolderIcon","InsertDriveFileIcon","CloudDownloadIcon","getFileDetails","jsxDEV","_jsxDEV","MindMap","data","enableDownload","_s","svgRef","tooltipRef","selectedNode","setSelectedNode","tooltipContent","setTooltipContent","tooltipPosition","setTooltipPosition","x","y","tooltip","setTooltip","visible","content","notification","setNotification","open","message","severity","digitalSchoolLogoPath","currentViewRef","transform","createMindMap","select","current","selectAll","remove","svg","width","window","innerWidth","height","innerHeight","g","append","attr","zoom","scaleExtent","on","event","call","zoomIdentity","translate","scale","radius","Math","min","root","hierarchy","layout","cluster","size","linkGenerator","linkRadial","angle","d","PI","links","join","nodes","descendants","handleNodeClick","handleMouseOver","handleMouseOut","depth","type","filter","each","node","style","html","text","truncateText","name","stopPropagation","details","id","downloadFile","showFileDetails","error","console","fileDetails","webContentLink","webViewLink","mimeType","includes","exportMimeType","exportExt","exportUrl","encodeURIComponent","token","gapi","client","getToken","downloadLink","document","createElement","href","access_token","download","target","body","appendChild","click","removeChild","downloadUrl","formatFileSize","modified","modifiedTime","Date","toLocaleString","created","createdTime","getMimeTypeDescription","pageX","pageY","resetZoom","transition","duration","zoomIn","scaleBy","zoomOut","handleCloseTooltip","handleCloseNotification","reason","maxLength","length","slice","bytes","k","sizes","i","floor","log","parseFloat","pow","toFixed","mimeMap","sx","position","children","ref","background","fileName","_jsxFileName","lineNumber","columnNumber","className","display","backgroundColor","color","padding","borderRadius","fontSize","pointerEvents","zIndex","elevation","left","top","p","maxWidth","boxShadow","onClick","dangerouslySetInnerHTML","__html","variant","textAlign","mt","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","title","_c","$RefreshReg$"],"sources":["C:/Cursor/mindmap/src/components/MindMap.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { Box, IconButton, Tooltip, Paper, Typography, Snackbar, Alert } from '@mui/material';\r\nimport ZoomInIcon from '@mui/icons-material/ZoomIn';\r\nimport ZoomOutIcon from '@mui/icons-material/ZoomOut';\r\nimport RestartAltIcon from '@mui/icons-material/RestartAlt';\r\nimport FolderIcon from '@mui/icons-material/Folder';\r\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\r\nimport CloudDownloadIcon from '@mui/icons-material/CloudDownload';\r\nimport { getFileDetails } from '../services/googleDriveService';\r\n\r\nconst MindMap = ({ data, enableDownload = false }) => {\r\n  const svgRef = useRef(null);\r\n  const tooltipRef = useRef(null);\r\n  const [selectedNode, setSelectedNode] = useState(null);\r\n  const [tooltipContent, setTooltipContent] = useState('');\r\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\r\n  const [tooltip, setTooltip] = useState({ visible: false, x: 0, y: 0, content: '' });\r\n  const [notification, setNotification] = useState({ open: false, message: '', severity: 'info' });\r\n  // 디지털선도학교 로고 이미지 경로\r\n  const digitalSchoolLogoPath = '/images/digital_school_logo.png';\r\n  // 현재 시점과 확대 정도를 저장하는 ref\r\n  const currentViewRef = useRef({ transform: null });\r\n\r\n  useEffect(() => {\r\n    if (!data) return;\r\n    \r\n    createMindMap();\r\n    \r\n    // Cleanup on component unmount\r\n    return () => {\r\n      d3.select(svgRef.current).selectAll('*').remove();\r\n    };\r\n  }, [data]);\r\n\r\n  const createMindMap = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    svg.selectAll('*').remove();\r\n    \r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    \r\n    const g = svg.append('g')\r\n      .attr('transform', `translate(${width/2},${height/2})`);\r\n    \r\n    // Define zoom behavior\r\n    const zoom = d3.zoom()\r\n      .scaleExtent([0.1, 4])\r\n      .on('zoom', (event) => {\r\n        g.attr('transform', event.transform);\r\n        // 현재 변환 정보 저장\r\n        currentViewRef.current.transform = event.transform;\r\n      });\r\n    \r\n    svg.call(zoom);\r\n    \r\n    // 저장된 변환 정보가 있으면 적용, 없으면 초기 상태로 설정\r\n    if (currentViewRef.current.transform) {\r\n      svg.call(zoom.transform, currentViewRef.current.transform);\r\n    } else {\r\n      svg.call(zoom.transform, d3.zoomIdentity.translate(width/2, height/2).scale(0.8));\r\n    }\r\n    \r\n    // Create radial layout\r\n    const radius = Math.min(width, height) / 2 - 120;\r\n    \r\n    // Create hierarchy from data\r\n    const root = d3.hierarchy(data);\r\n    \r\n    // Define custom layout (similar to radial but with modifications)\r\n    const layout = d3.cluster()\r\n      .size([360, radius]);\r\n    \r\n    // Apply layout\r\n    layout(root);\r\n    \r\n    // Add links\r\n    const linkGenerator = d3.linkRadial()\r\n      .angle(d => d.x * Math.PI / 180)\r\n      .radius(d => d.y);\r\n    \r\n    g.selectAll('.link')\r\n      .data(root.links())\r\n      .join('path')\r\n      .attr('class', 'link')\r\n      .attr('d', linkGenerator)\r\n      .attr('fill', 'none')\r\n      .attr('stroke', '#ccc')\r\n      .attr('stroke-width', 1.5);\r\n    \r\n    // Add nodes\r\n    const nodes = g.selectAll('.node')\r\n      .data(root.descendants())\r\n      .join('g')\r\n      .attr('class', 'node')\r\n      .attr('transform', d => `rotate(${d.x - 90}) translate(${d.y})`)\r\n      .attr('cursor', 'pointer')\r\n      .on('click', (event, d) => handleNodeClick(event, d))\r\n      .on('mouseover', (event, d) => handleMouseOver(event, d))\r\n      .on('mouseout', () => handleMouseOut());\r\n    \r\n    // Add node circles\r\n    nodes.append('circle')\r\n      .attr('r', d => d.depth === 0 ? 25 : d.data.type === 'folder' ? 15 : 8)\r\n      .attr('class', d => {\r\n        if (d.depth === 0) return 'central-node';\r\n        return d.data.type === 'folder' ? 'folder-node' : 'file-node';\r\n      })\r\n      .attr('fill', d => {\r\n        if (d.depth === 0) return '#8B4513';\r\n        return d.data.type === 'folder' ? '#FFD700' : '#fff';\r\n      })\r\n      .attr('stroke', d => {\r\n        if (d.depth === 0) return '#8B4513';\r\n        return d.data.type === 'folder' ? '#DAA520' : '#2E8B57';\r\n      })\r\n      .attr('stroke-width', 1.5);\r\n    \r\n    // 디지털선도학교 로고를 중앙 노드와 폴더 노드에 추가\r\n    nodes.filter(d => d.depth === 0)\r\n      .each(function(d) {\r\n        const node = d3.select(this);\r\n        \r\n        // 디지털선도학교 로고 이미지 추가\r\n        node.append('image')\r\n          .attr('xlink:href', digitalSchoolLogoPath)\r\n          .attr('width', 30)\r\n          .attr('height', 30)\r\n          .attr('x', -15)\r\n          .attr('y', -15)\r\n          .attr('transform', d => `rotate(${90 - d.x})`)\r\n          .style('pointer-events', 'none');\r\n      });\r\n    \r\n    // 폴더 노드에 아이콘 추가 (중앙 노드 제외)\r\n    nodes.filter(d => d.data.type === 'folder' && d.depth !== 0)\r\n      .append('text')\r\n      .attr('dy', 5)\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', d => `rotate(${90 - d.x})`)\r\n      .html('📁');\r\n    \r\n    // 파일 노드에 아이콘 추가\r\n    nodes.filter(d => d.data.type === 'file')\r\n      .append('text')\r\n      .attr('dy', 4)\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', d => `rotate(${90 - d.x})`)\r\n      .html('📄');\r\n    \r\n    // Add labels\r\n    nodes.append('text')\r\n      .attr('dy', d => d.depth === 0 ? -35 : d.data.type === 'folder' ? -20 : -15)\r\n      .attr('text-anchor', 'middle')\r\n      .attr('transform', d => `rotate(${90 - d.x})`)\r\n      .text(d => truncateText(d.data.name, 20))\r\n      .attr('fill', '#333')\r\n      .attr('font-size', d => d.depth === 0 ? '16px' : '12px')\r\n      .attr('font-weight', d => d.depth === 0 ? 'bold' : 'normal');\r\n  };\r\n\r\n  const handleNodeClick = async (event, d) => {\r\n    event.stopPropagation();\r\n    \r\n    setSelectedNode(d);\r\n    \r\n    // 파일 노드인 경우\r\n    if (d.data.type === 'file') {\r\n      try {\r\n        const details = await getFileDetails(d.data.id);\r\n        \r\n        if (enableDownload) {\r\n          // 다운로드 처리\r\n          downloadFile(details);\r\n        } else {\r\n          // 기존 방식: 상세 정보 표시\r\n          showFileDetails(event, details);\r\n        }\r\n      } catch (error) {\r\n        console.error('파일 정보를 가져오는 중 오류 발생:', error);\r\n        setNotification({\r\n          open: true,\r\n          message: '파일 정보를 가져오는 중 오류가 발생했습니다.',\r\n          severity: 'error'\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const downloadFile = (fileDetails) => {\r\n    if (!fileDetails.webContentLink && !fileDetails.webViewLink) {\r\n      // 구글 문서 형식인 경우 내보내기 URL 생성\r\n      if (fileDetails.mimeType.includes('google-apps')) {\r\n        let exportMimeType = '';\r\n        let exportExt = '';\r\n        \r\n        // 각 구글 문서 타입에 맞는 내보내기 형식 지정\r\n        if (fileDetails.mimeType.includes('document')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n          exportExt = 'docx';\r\n        } else if (fileDetails.mimeType.includes('spreadsheet')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\r\n          exportExt = 'xlsx';\r\n        } else if (fileDetails.mimeType.includes('presentation')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\r\n          exportExt = 'pptx';\r\n        } else if (fileDetails.mimeType.includes('drawing')) {\r\n          exportMimeType = 'image/png';\r\n          exportExt = 'png';\r\n        } else {\r\n          exportMimeType = 'application/pdf';\r\n          exportExt = 'pdf';\r\n        }\r\n        \r\n        // 내보내기 URL\r\n        const exportUrl = `https://www.googleapis.com/drive/v3/files/${fileDetails.id}/export?mimeType=${encodeURIComponent(exportMimeType)}`;\r\n        \r\n        // 액세스 토큰 가져오기\r\n        const token = window.gapi.client.getToken();\r\n        if (token) {\r\n          // 다운로드 링크 생성 및 클릭\r\n          const downloadLink = document.createElement('a');\r\n          downloadLink.href = exportUrl + '&alt=media&access_token=' + token.access_token;\r\n          downloadLink.download = `${fileDetails.name}.${exportExt}`;\r\n          downloadLink.target = '_blank';\r\n          document.body.appendChild(downloadLink);\r\n          downloadLink.click();\r\n          document.body.removeChild(downloadLink);\r\n          \r\n          setNotification({\r\n            open: true,\r\n            message: `\"${fileDetails.name}\" 다운로드 중...`,\r\n            severity: 'info'\r\n          });\r\n        } else {\r\n          setNotification({\r\n            open: true,\r\n            message: '인증 토큰이 없어 다운로드할 수 없습니다.',\r\n            severity: 'error'\r\n          });\r\n        }\r\n      } else {\r\n        setNotification({\r\n          open: true,\r\n          message: '이 파일은 다운로드 링크가 제공되지 않습니다.',\r\n          severity: 'warning'\r\n        });\r\n        // 대신 상세 정보 표시\r\n        showFileDetails(null, fileDetails);\r\n      }\r\n    } else {\r\n      // 직접 다운로드 링크가 있는 경우\r\n      const downloadUrl = fileDetails.webContentLink || fileDetails.webViewLink;\r\n      \r\n      // 다운로드 링크 클릭\r\n      const downloadLink = document.createElement('a');\r\n      downloadLink.href = downloadUrl;\r\n      downloadLink.target = '_blank';\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n      \r\n      setNotification({\r\n        open: true,\r\n        message: `\"${fileDetails.name}\" 다운로드 중...`,\r\n        severity: 'info'\r\n      });\r\n    }\r\n  };\r\n\r\n  const showFileDetails = (event, details) => {\r\n    // 파일 크기 포맷\r\n    const size = details.size ? formatFileSize(details.size) : 'N/A';\r\n    \r\n    // 날짜 포맷\r\n    const modified = details.modifiedTime ? new Date(details.modifiedTime).toLocaleString() : 'N/A';\r\n    const created = details.createdTime ? new Date(details.createdTime).toLocaleString() : 'N/A';\r\n    \r\n    // 툴팁 콘텐츠 설정\r\n    const content = `\r\n      <div>\r\n        <h3>${details.name}</h3>\r\n        <p><strong>유형:</strong> ${getMimeTypeDescription(details.mimeType)}</p>\r\n        <p><strong>크기:</strong> ${size}</p>\r\n        <p><strong>수정됨:</strong> ${modified}</p>\r\n        <p><strong>생성됨:</strong> ${created}</p>\r\n        ${details.webViewLink ? `<p><a href=\"${details.webViewLink}\" target=\"_blank\" rel=\"noopener noreferrer\">파일 열기</a></p>` : ''}\r\n      </div>\r\n    `;\r\n    \r\n    // 위치 설정\r\n    const x = event ? event.pageX : window.innerWidth / 2;\r\n    const y = event ? event.pageY : window.innerHeight / 2;\r\n    \r\n    // 툴팁 표시\r\n    setTooltip({\r\n      visible: true,\r\n      x: x,\r\n      y: y,\r\n      content: content\r\n    });\r\n  };\r\n\r\n  const handleMouseOver = (event, d) => {\r\n    // Show a simple tooltip\r\n    const tooltip = d3.select(tooltipRef.current);\r\n    tooltip\r\n      .style('display', 'block')\r\n      .style('left', (event.pageX + 15) + 'px')\r\n      .style('top', (event.pageY - 10) + 'px')\r\n      .html(`<div><strong>${d.data.name}</strong><br/>${getMimeTypeDescription(d.data.mimeType)}</div>`);\r\n  };\r\n\r\n  const handleMouseOut = () => {\r\n    d3.select(tooltipRef.current)\r\n      .style('display', 'none');\r\n  };\r\n\r\n  const resetZoom = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    \r\n    svg.transition()\r\n      .duration(750)\r\n      .call(\r\n        d3.zoom().transform,\r\n        d3.zoomIdentity.translate(width/2, height/2).scale(0.8)\r\n      );\r\n  };\r\n\r\n  const zoomIn = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    svg.transition()\r\n      .duration(300)\r\n      .call(\r\n        d3.zoom().scaleBy,\r\n        1.3\r\n      );\r\n  };\r\n\r\n  const zoomOut = () => {\r\n    const svg = d3.select(svgRef.current);\r\n    svg.transition()\r\n      .duration(300)\r\n      .call(\r\n        d3.zoom().scaleBy,\r\n        1 / 1.3\r\n      );\r\n  };\r\n\r\n  const handleCloseTooltip = () => {\r\n    setTooltip({ ...tooltip, visible: false });\r\n  };\r\n\r\n  const handleCloseNotification = (event, reason) => {\r\n    if (reason === 'clickaway') return;\r\n    setNotification({ ...notification, open: false });\r\n  };\r\n\r\n  const truncateText = (text, maxLength) => {\r\n    if (!text) return '';\r\n    return text.length > maxLength ? text.slice(0, maxLength) + '...' : text;\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const getMimeTypeDescription = (mimeType) => {\r\n    if (!mimeType) return '알 수 없는 유형';\r\n    \r\n    if (mimeType.includes('folder')) return '폴더';\r\n    \r\n    const mimeMap = {\r\n      'application/vnd.google-apps.document': '구글 문서',\r\n      'application/vnd.google-apps.spreadsheet': '구글 스프레드시트',\r\n      'application/vnd.google-apps.presentation': '구글 프레젠테이션',\r\n      'application/vnd.google-apps.form': '구글 설문지',\r\n      'application/vnd.google-apps.drawing': '구글 드로잉',\r\n      'application/pdf': 'PDF 문서',\r\n      'image/jpeg': 'JPEG 이미지',\r\n      'image/png': 'PNG 이미지',\r\n      'text/plain': '텍스트 파일',\r\n      'text/html': 'HTML 파일',\r\n      'application/zip': 'ZIP 압축파일',\r\n      'video/mp4': 'MP4 비디오',\r\n      'audio/mpeg': 'MP3 오디오'\r\n    };\r\n    \r\n    return mimeMap[mimeType] || mimeType;\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', height: '100%', position: 'relative' }}>\r\n      <svg ref={svgRef} width=\"100%\" height=\"100%\" style={{ background: 'transparent' }}></svg>\r\n      \r\n      <div \r\n        ref={tooltipRef} \r\n        className=\"tooltip\" \r\n        style={{ \r\n          display: 'none',\r\n          position: 'absolute',\r\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n          color: 'white',\r\n          padding: '5px 10px',\r\n          borderRadius: '5px',\r\n          fontSize: '12px',\r\n          pointerEvents: 'none',\r\n          zIndex: 100\r\n        }}\r\n      ></div>\r\n      \r\n      {tooltip.visible && (\r\n        <Paper\r\n          elevation={3}\r\n          sx={{\r\n            position: 'absolute',\r\n            left: tooltip.x + 15,\r\n            top: tooltip.y - 10,\r\n            p: 2,\r\n            maxWidth: 300,\r\n            zIndex: 1000,\r\n            backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n            borderRadius: '8px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.15)'\r\n          }}\r\n          onClick={handleCloseTooltip}\r\n        >\r\n          <div dangerouslySetInnerHTML={{ __html: tooltip.content }} />\r\n          <Typography variant=\"caption\" sx={{ display: 'block', textAlign: 'right', mt: 1 }}>\r\n            클릭하여 닫기\r\n          </Typography>\r\n        </Paper>\r\n      )}\r\n      \r\n      <Snackbar\r\n        open={notification.open}\r\n        autoHideDuration={3000}\r\n        onClose={handleCloseNotification}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      >\r\n        <Alert onClose={handleCloseNotification} severity={notification.severity} sx={{ width: '100%' }}>\r\n          {notification.message}\r\n        </Alert>\r\n      </Snackbar>\r\n      \r\n      <Box className=\"zoom-controls\">\r\n        <Tooltip title=\"확대\">\r\n          <IconButton onClick={zoomIn} className=\"zoom-button\" size=\"large\">\r\n            <ZoomInIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"축소\">\r\n          <IconButton onClick={zoomOut} className=\"zoom-button\" size=\"large\">\r\n            <ZoomOutIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Tooltip title=\"기본 보기\">\r\n          <IconButton onClick={resetZoom} className=\"zoom-button\" size=\"large\">\r\n            <RestartAltIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default MindMap; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}